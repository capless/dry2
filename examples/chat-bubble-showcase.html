<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chat bubble Component Showcase - DRY2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="../src/dry2/chat-bubble.js"></script>
    <script src="../src/dry2/breadcrumbs.js"></script>
</head>
<body class="bg-gray-100">
    <!-- Include Navigation -->
    <script>
        fetch('nav.inc.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navigation').innerHTML = data;
            });
    </script>
    <div id="navigation"></div>
    
    <!-- Breadcrumbs -->
    <div class="bg-white border-b">
        <div class="max-w-6xl mx-auto px-4 py-4">
            <dry-breadcrumbs>
                <breadcrumb-item href="../index.html">Home</breadcrumb-item>
                <breadcrumb-item href="./index.html">Examples</breadcrumb-item>
                <breadcrumb-item active>Chat Bubble Component</breadcrumb-item>
            </dry-breadcrumbs>
        </div>
    </div>

<div class="p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Chat Bubble Component</h1>
        <p class="text-gray-600 mb-8">Display messages in a conversation interface with different styles for sent and received messages.</p>

        <!-- Basic Messages -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Basic Messages</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border max-w-2xl">
                <dry-chat-bubble type="received" name="Alice" avatar="https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T10:30:00Z">
                    Hey there! How's it going?
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T10:31:00Z" status="read">
                    Hi Alice! I'm doing great, thanks for asking. How about you?
                </dry-chat-bubble>
                
                <dry-chat-bubble type="received" name="Alice" avatar="https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T10:32:00Z">
                    I'm fantastic! Just finished a great book. Have you read anything interesting lately?
                </dry-chat-bubble>
            </div>
            <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto mt-4"><code>&lt;!-- Received message --&gt;
&lt;dry-chat-bubble 
    type="received" 
    name="Alice" 
    avatar="https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face" 
    group-start 
    group-end 
    timestamp="2024-01-15T10:30:00Z"&gt;
    Hey there! How's it going?
&lt;/dry-chat-bubble&gt;

&lt;!-- Sent message --&gt;
&lt;dry-chat-bubble 
    type="sent" 
    group-start 
    group-end 
    timestamp="2024-01-15T10:31:00Z" 
    status="read"&gt;
    Hi Alice! I'm doing great, thanks for asking. How about you?
&lt;/dry-chat-bubble&gt;</code></pre>
        </section>

        <!-- Message Grouping -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Message Grouping</h2>
            <p class="text-gray-600 mb-4">Messages from the same sender can be grouped together for a cleaner look.</p>
            <div class="bg-white p-6 rounded-lg shadow-sm border max-w-2xl">
                <dry-chat-bubble type="received" name="Bob" avatar="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face" group-start>
                    Hey, I have some exciting news!
                </dry-chat-bubble>
                
                <dry-chat-bubble type="received">
                    I just got promoted at work! üéâ
                </dry-chat-bubble>
                
                <dry-chat-bubble type="received" group-end timestamp="2024-01-15T14:20:00Z">
                    Want to celebrate tonight?
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start>
                    That's amazing! Congratulations! üéä
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent">
                    I'd love to celebrate with you!
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-end timestamp="2024-01-15T14:22:00Z" status="delivered">
                    Where should we meet?
                </dry-chat-bubble>
            </div>
            <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto mt-4"><code>&lt;!-- Grouped received messages --&gt;
&lt;dry-chat-bubble type="received" name="Bob" avatar="..." group-start&gt;
    Hey, I have some exciting news!
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="received"&gt;
    I just got promoted at work! üéâ
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="received" group-end timestamp="2024-01-15T14:20:00Z"&gt;
    Want to celebrate tonight?
&lt;/dry-chat-bubble&gt;

&lt;!-- Grouped sent messages --&gt;
&lt;dry-chat-bubble type="sent" group-start&gt;
    That's amazing! Congratulations! üéä
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent"&gt;
    I'd love to celebrate with you!
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent" group-end timestamp="2024-01-15T14:22:00Z" status="delivered"&gt;
    Where should we meet?
&lt;/dry-chat-bubble&gt;</code></pre>
        </section>

        <!-- Message Status -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Message Status</h2>
            <p class="text-gray-600 mb-4">Sent messages can show different delivery statuses.</p>
            <div class="bg-white p-6 rounded-lg shadow-sm border max-w-2xl">
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:00:00Z" status="sent">
                    This message was just sent
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:01:00Z" status="delivered">
                    This message was delivered
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:02:00Z" status="read">
                    This message was read
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:03:00Z" status="failed">
                    This message failed to send
                </dry-chat-bubble>
            </div>
            <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto mt-4"><code>&lt;!-- Different status states --&gt;
&lt;dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:00:00Z" status="sent"&gt;
    This message was just sent
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:01:00Z" status="delivered"&gt;
    This message was delivered
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:02:00Z" status="read"&gt;
    This message was read
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T15:03:00Z" status="failed"&gt;
    This message failed to send
&lt;/dry-chat-bubble&gt;</code></pre>
        </section>

        <!-- Rich Content -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Rich Content</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border max-w-2xl">
                <dry-chat-bubble type="received" name="Emma" avatar="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T16:00:00Z">
                    Check out this amazing photo I took! üì∏<br><br>
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop" alt="Beautiful landscape" class="rounded-lg mt-2 max-w-full">
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T16:01:00Z" status="read">
                    Wow! That's absolutely stunning! üòç Where was this taken?
                </dry-chat-bubble>
                
                <dry-chat-bubble type="received" name="Emma" avatar="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T16:02:00Z">
                    It was at <a href="#" class="text-blue-600 hover:text-blue-800 underline">Yosemite National Park</a>! We should plan a trip there together sometime.
                </dry-chat-bubble>
            </div>
            <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto mt-4"><code>&lt;!-- Message with rich content --&gt;
&lt;dry-chat-bubble type="received" name="Emma" avatar="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T16:00:00Z"&gt;
    Check out this amazing photo I took! üì∏&lt;br&gt;&lt;br&gt;
    &lt;img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop" alt="Beautiful landscape" class="rounded-lg mt-2 max-w-full"&gt;
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="received" name="Emma" avatar="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T16:02:00Z"&gt;
    It was at &lt;a href="#" class="text-blue-600 hover:text-blue-800 underline"&gt;Yosemite National Park&lt;/a&gt;! We should plan a trip there together sometime.
&lt;/dry-chat-bubble&gt;</code></pre>
        </section>

        <!-- Long Messages -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Long Messages</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border max-w-2xl">
                <dry-chat-bubble type="received" name="Alex" avatar="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T17:00:00Z">
                    I've been thinking about our conversation yesterday regarding the project proposal. I believe we have a really solid foundation, but there are a few areas where we could strengthen our approach. Specifically, I think we should consider adding more detailed market research and perhaps including some user testimonials to make our case more compelling. What do you think about scheduling a meeting next week to discuss these ideas further?
                </dry-chat-bubble>
                
                <dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T17:05:00Z" status="read">
                    Absolutely! I completely agree with your suggestions. The market research angle is particularly important, and user testimonials would definitely add credibility to our proposal. I'm free Tuesday or Thursday afternoon next week. Would either of those times work for you? We could also invite Sarah from the marketing team since she has experience with similar projects.
                </dry-chat-bubble>
            </div>
            <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto mt-4"><code>&lt;!-- Long message example --&gt;
&lt;dry-chat-bubble type="received" name="Alex" avatar="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T17:00:00Z"&gt;
    I've been thinking about our conversation yesterday regarding the project proposal. I believe we have a really solid foundation, but there are a few areas where we could strengthen our approach. Specifically, I think we should consider adding more detailed market research and perhaps including some user testimonials to make our case more compelling. What do you think about scheduling a meeting next week to discuss these ideas further?
&lt;/dry-chat-bubble&gt;

&lt;dry-chat-bubble type="sent" group-start group-end timestamp="2024-01-15T17:05:00Z" status="read"&gt;
    Absolutely! I completely agree with your suggestions. The market research angle is particularly important, and user testimonials would definitely add credibility to our proposal. I'm free Tuesday or Thursday afternoon next week. Would either of those times work for you?
&lt;/dry-chat-bubble&gt;</code></pre>
        </section>

        <!-- Chat Interface Demo -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Interactive Chat Demo</h2>
            <div class="bg-white rounded-lg shadow-sm border max-w-2xl">
                <!-- Chat Header -->
                <div class="p-4 border-b bg-gray-50 rounded-t-lg">
                    <div class="flex items-center gap-3">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612b776?w=40&h=40&fit=crop&crop=face" alt="Alice" class="w-10 h-10 rounded-full">
                        <div>
                            <h3 class="font-semibold text-gray-900">Alice Johnson</h3>
                            <p class="text-sm text-gray-500">Online</p>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Messages -->
                <div id="chat-messages" class="p-4 h-64 overflow-y-auto">
                    <dry-chat-bubble type="received" name="Alice" avatar="https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face" group-start group-end timestamp="2024-01-15T18:00:00Z">
                        Welcome to the chat demo! Try sending a message below.
                    </dry-chat-bubble>
                </div>
                
                <!-- Chat Input -->
                <div class="p-4 border-t bg-gray-50 rounded-b-lg">
                    <div class="flex gap-2">
                        <input 
                            type="text" 
                            id="message-input" 
                            placeholder="Type your message..." 
                            class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            onkeypress="handleEnterKey(event)">
                        <button 
                            onclick="sendMessage()" 
                            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            Send
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- JavaScript API -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">JavaScript API</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <div class="max-w-2xl mb-4">
                    <dry-chat-bubble id="api-demo-bubble" type="sent" group-start group-end timestamp="2024-01-15T19:00:00Z" status="sent">
                        Original message content
                    </dry-chat-bubble>
                </div>
                
                <div class="flex gap-2 mb-4 flex-wrap">
                    <button onclick="changeStatus()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Change Status</button>
                    <button onclick="changeType()" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Change Type</button>
                    <button onclick="updateTimestamp()" class="px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700">Update Timestamp</button>
                    <button onclick="changeContent()" class="px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700">Change Content</button>
                </div>
                
                <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto"><code>const bubble = document.getElementById('api-demo-bubble');

// Change message status
bubble.setStatus('read');

// Update timestamp
bubble.setTimestamp(new Date().toISOString());

// Change content
bubble.setContent('New message content');</code></pre>
            </div>
        </section>
    </div>

    <script>
        let messageCounter = 0;
        let statusIndex = 0;
        let typeIndex = 0;
        const statuses = ['sent', 'delivered', 'read', 'failed'];
        const types = ['sent', 'received'];

        function handleEnterKey(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (message) {
                const chatMessages = document.getElementById('chat-messages');
                const bubble = document.createElement('dry-chat-bubble');
                
                bubble.type = 'sent';
                bubble.setAttribute('group-start', '');
                bubble.setAttribute('group-end', '');
                bubble.timestamp = new Date().toISOString();
                bubble.status = 'sent';
                bubble.textContent = message;
                
                chatMessages.appendChild(bubble);
                input.value = '';
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate response after delay
                setTimeout(() => {
                    const response = document.createElement('dry-chat-bubble');
                    response.type = 'received';
                    response.name = 'Alice';
                    response.avatar = 'https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face';
                    response.setAttribute('group-start', '');
                    response.setAttribute('group-end', '');
                    response.timestamp = new Date().toISOString();
                    response.textContent = getRandomResponse();
                    
                    chatMessages.appendChild(response);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }

        function getRandomResponse() {
            const responses = [
                "That's interesting!",
                "I see what you mean.",
                "Thanks for sharing that.",
                "Could you tell me more?",
                "That sounds great!",
                "I agree with you.",
                "That's a good point."
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function changeStatus() {
            const bubble = document.getElementById('api-demo-bubble');
            statusIndex = (statusIndex + 1) % statuses.length;
            bubble.setStatus(statuses[statusIndex]);
        }

        function changeType() {
            const bubble = document.getElementById('api-demo-bubble');
            typeIndex = (typeIndex + 1) % types.length;
            bubble.type = types[typeIndex];
            
            if (types[typeIndex] === 'received') {
                bubble.name = 'Alice';
                bubble.avatar = 'https://images.unsplash.com/photo-1494790108755-2616b612b776?w=32&h=32&fit=crop&crop=face';
            } else {
                bubble.name = '';
                bubble.avatar = '';
            }
        }

        function updateTimestamp() {
            const bubble = document.getElementById('api-demo-bubble');
            bubble.setTimestamp(new Date().toISOString());
        }

        function changeContent() {
            const bubble = document.getElementById('api-demo-bubble');
            const contents = [
                'Original message content',
                'Updated message!',
                'This content was changed via API',
                'Dynamic content update'
            ];
            messageCounter = (messageCounter + 1) % contents.length;
            bubble.setContent(contents[messageCounter]);
        }
    </script>
</div>
</body>
</html>