<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    <script src="../src/dry2/dry2.js"></script>
    <script src="../src/dry2/qr.js"></script>
</head>
<body class="p-8">
    <h1 class="text-2xl mb-8">QR Code Test</h1>

    <div class="space-y-4">
        <div>
            <h3>Basic QR Code:</h3>
            <dry-qr-code value="Hello World" size="150"></dry-qr-code>
        </div>

        <div>
            <h3>Custom Colors:</h3>
            <dry-qr-code value="Custom Colors" size="150" foreground="#e11d48" background="#fde047"></dry-qr-code>
        </div>

        <div>
            <h3>Dynamic QR Code:</h3>
            <dry-qr-code id="dynamic-qr" value="Initial value" size="150"></dry-qr-code>
            <div class="mt-2">
                <input id="qr-input" type="text" placeholder="New value..." class="border px-2 py-1 rounded">
                <button id="update-btn" class="bg-blue-500 text-white px-3 py-1 rounded ml-2">Update</button>
            </div>
        </div>
    </div>

    <script>
        console.log('QRious available:', typeof QRious !== 'undefined');
        console.log('dry-qr-code defined:', customElements.get('dry-qr-code'));

        document.getElementById('update-btn').addEventListener('click', () => {
            const input = document.getElementById('qr-input');
            const qr = document.getElementById('dynamic-qr');
            if (input.value.trim()) {
                qr.value = input.value.trim();
                console.log('Updated QR value to:', input.value.trim());
            }
        });

        // Allow Enter key
        document.getElementById('qr-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('update-btn').click();
            }
        });
    </script>
</body>
</html>